{{!< default}}
{{#contentFor 'title'}}User Information{{/contentFor}}
{{#contentFor 'style'}}<link rel="stylesheet" type="text/css" href="{{cache_busting '/assets/user.css' baseUrl}}">{{/contentFor}}
{{#contentFor 'script'}}<script src="{{cache_busting '/assets/user.js' baseUrl}}"></script>{{/contentFor}}
<div class="row justify-content-center">
  <div class="col-12 col-md-7">
    <h3 class="font-weight-bold">
      {{ifx edit 'Edit a user' 'Create a new user'}}
    </h3>
    <form id="form">
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" name="email" value="{{user.email}}" required autofocus>
      </div>
      <div class="mb-3">
        <label class="form-label">Name</label>
        <input type="text" class="form-control" name="name" value="{{user.name}}" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" name="password" aria-describedby="passwordHelp" {{#unless edit}}required{{/unless}}>
        {{#if edit}}
          <div id="passwordHelp" class="form-text">Enter only if you want to change the password.</div>
        {{/if}}
      </div>
      <div class="d-flex justify-content-between mt-3">
        <a href="{{baseUrl}}/users" class="btn btn-secondary">Back to User List</a>
        <button type="submit" class="btn btn-primary">Save user information</button>
      </div>
    </form>
  </div>
</div>

{{#if edit}}<input type="hidden" id="id" value="{{user.id}}">{{/if}}
<input type="hidden" id="edit" value="{{ifx edit 1 0}}">